html, body, main, section, aside {
  background-color: #00050f !important;
  color: #ffffff !important;
  background-image: none !important;
}

/* === Fix variable-based white backgrounds (GitHub, etc.) === */
*[class*="color-bg"],
*[class*="bg-"],
*[class*="markdown-body"],
.markdown-body,
.comment-body {
  background-color: transparent !important;
  color: #ffffff !important;
  background-image: none !important;
  border-color: #1d9bf0 !important;
}

/* ⬇️ REPLACE your current `* { ... color: #fff !important; ... }` */
* {
  background-color: transparent !important;
  border-color: #1d9bf0 !important;
}

*:not([class*="avatar"]):not(button),
*:not([class*="avatar"]):not(button)::before,
*:not([class*="avatar"]):not(button)::after {
  border-color: #1d9bf0 !important;
  background-image: none !important;
}

/* ⬇️ New: apply white text everywhere EXCEPT inside code/highlight blocks */
/* *:not(pre):not(code):not(pre *):not(code *):not(.hljs):not(.hljs *):not([class*="language-"]):not([class*="language-"] *):not(.textLayer):not(.textLayer *) { */
/*   color: #ffffff !important; */
/* } */

/* ⬇️ Also stop forcing color on pseudo-elements inside code */
*:not(pre):not(code):not(pre *):not(code *):not(.hljs):not(.hljs *):not([class*="language-"]):not([class*="language-"] *):not(.textLayer):not(.textLayer *)::before,
*:not(pre):not(code):not(pre *):not(code *):not(.hljs):not(.hljs *):not([class*="language-"]):not([class*="language-"] *):not(.textLayer):not(.textLayer *)::after {
  color: #ffffff !important;
}
